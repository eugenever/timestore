# Multilateration

Библиотека позволяет решать задачи, связанные с определением местоположения (ОМП) абонентских станций (АС) или иных устройств,
в рамках сети базовых станций (БС).

В основе решения задачи ОМП используется подход и принципы из библиотеки [trilateration](https://github.com/lemmingapex/trilateration/tree/master).
Указанная библиотека применяет `LMA` алгоритм - [Levenberg-Marquardt algorithm](http://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm) и реализует только базовый функционал.

Дополнительно реализован механизм поиска массива начальных точек для более полного поиска локальных и глобального
минимума функции потерь (на базе MSE).
Методы поиска начальных точек:

- Nearest (ближайшая БС к искомой точке)
- Middle (усредненные координаты всех БС)
- Far (самая удаленная БС от искомой точки)
- Position (позиционный алгоритм, сканирующий область вокруг ближайшей БС на заданном в настройках расстоянии)

## Результаты исследований разработанной библиотеки

1. При числе БС равном 3-м можно получить координаты по X и Y с достаточной точностью при незначительной деформации треугольника,
   образованного БС. В противном случае погрешность может достигать `60 м` засчет дополнительных корней нелинейной системы.
2. При числе БС равном 4-м можно очень точно оценить координаты по X и Y (погрешность несколько сантиметров). При этом
   координата Z может иметь небольшую погрешность (обычно до 10м) при наличии дополнительных корней (плохой геометрический
   фактор).
3. При числе БС равном 5 получаем все три координаты с хорошей точностью. Но опять же геометрический фактор может немного снизить
   точность по координате Z.
4. При числе БС равном 8-9 возможно стоит отключать оптимизации по методу `Position`.
5. Хорошая геометрическая форма конфигурации БС обеспечивается отсутствием значимых отличий углов многоугольника.
   Например, если 3 точки можно аппроксимировать прямой, то это плохое значение геометрического фактора, независимо от количества
   вершин. Указанные 3 точки дают дополнительные корни, но, например, для семи-, восьмиугольников их вес снижается
   другими вершинами. А для четырех-, пятиугольников их влияние может приводить к небольшим ошибкам по координате Z.
6. Если оцениваемые точки находятся внутри геометрической фигуры, описываемой положением базовых станций, то точность
   ОМП будет выше. За пределами фигуры точность во многом зависит от геометрического фактора.
